<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.haruon.groupware.draft.mapper.DraftMapper">

	<!-- 직원별 문서 리스트 -->
	<select id="findDraftByEmp" parameterType="Integer" resultType="com.haruon.groupware.draft.dto.ResponseDraft">
		select 
				d.dra_no draNo
			,	kc.descript draftType
		    ,	d.title title
		    ,	d.content content
		    ,	d.create_date createDate
		    ,	sc.descript approvalState
		from draft d
		inner join approval a
			on d.dra_no = a.dra_no
		inner join common_code kc
			on d.kind = kc.common_code
		inner join common_code sc
			on a.state = sc.common_code
		where d.emp_no = #{empNo}
	</select>
	
</mapper>